/*
 * audio_out_filters.h
 *
 *  Created on: Oct 7, 2023
 *      Author: sp6gk
 */

#ifndef INC_AUDIO_OUT_FILTERS_H_
#define INC_AUDIO_OUT_FILTERS_H_

#define NUM_IIR_SECTIONS 2


//2.4 KHz FIR


const int AUDIO_FIR_LEN = 151;


static const float audio_out_filter24_n150[151] = {
    0.00011770094009,-0.0002628838390529,-0.0008959110548339,-0.001782299010582,
  -0.002888422119598,-0.004145262532709,-0.005452572139259,-0.006688040537599,
  -0.007720735070664, -0.00842738586524,-0.008709535959449,-0.008509256141354,
  -0.007821102038686,-0.006698295708405,-0.005251729446755, -0.00364125432783,
  -0.002059728651272,-0.0007113321168278,0.0002134419646758,0.0005630569577092,
  0.0002471272710768,-0.0007476467638295, -0.00235038818402,-0.004409388733274,
  -0.006706203019896,-0.008979392818408, -0.01095546122638, -0.01238339186621,
   -0.01306848802603, -0.01290101362789,  -0.0118755318469, -0.01009780247953,
  -0.007777542584758,-0.005207113741208, -0.00272805897175,-0.0006891324749147,
  0.0005991901340211,0.0009079640098006,0.0001249734726042, -0.00172323957653,
  -0.004466222256129,-0.007803058968637, -0.01133382815952, -0.01460609554151,
    -0.0171713388568, -0.01864460142455, -0.01875984394222, -0.01741355416044,
   -0.01469021975889,  -0.0108651884186,-0.006383032964319,-0.001812515674264,
   0.002217750532137, 0.005096190097519,  0.00630898743111, 0.005514941127333,
   0.002604898404836,-0.002262456438694,-0.008654296712144, -0.01588946009516,
   -0.02309532319916, -0.02929098519436, -0.03348868977726, -0.03480291522583,
   -0.03255520066114, -0.02636275190198, -0.01620022760976,-0.002426727801769,
    0.01422637844799,  0.03270693550986,  0.05172860370138,  0.06988442344243,
    0.08577604851575,  0.09814542807484,   0.1059952327477,   0.1086853517415,
     0.1059952327477,  0.09814542807484,  0.08577604851575,  0.06988442344243,
    0.05172860370138,  0.03270693550986,  0.01422637844799,-0.002426727801769,
   -0.01620022760976, -0.02636275190198, -0.03255520066114, -0.03480291522583,
   -0.03348868977726, -0.02929098519436, -0.02309532319916, -0.01588946009516,
  -0.008654296712144,-0.002262456438694, 0.002604898404836, 0.005514941127333,
    0.00630898743111, 0.005096190097519, 0.002217750532137,-0.001812515674264,
  -0.006383032964319,  -0.0108651884186, -0.01469021975889, -0.01741355416044,
   -0.01875984394222, -0.01864460142455,  -0.0171713388568, -0.01460609554151,
   -0.01133382815952,-0.007803058968637,-0.004466222256129, -0.00172323957653,
  0.0001249734726042,0.0009079640098006,0.0005991901340211,-0.0006891324749147,
   -0.00272805897175,-0.005207113741208,-0.007777542584758, -0.01009780247953,
    -0.0118755318469, -0.01290101362789, -0.01306848802603, -0.01238339186621,
   -0.01095546122638,-0.008979392818408,-0.006706203019896,-0.004409388733274,
   -0.00235038818402,-0.0007476467638295,0.0002471272710768,0.0005630569577092,
  0.0002134419646758,-0.0007113321168278,-0.002059728651272, -0.00364125432783,
  -0.005251729446755,-0.006698295708405,-0.007821102038686,-0.008509256141354,
  -0.008709535959449, -0.00842738586524,-0.007720735070664,-0.006688040537599,
  -0.005452572139259,-0.004145262532709,-0.002888422119598,-0.001782299010582,
  -0.0008959110548339,-0.0002628838390529,  0.00011770094009
};

//#define AUDIO_FIR_LEN 101

static const float audio_out_filter24_n100 [101] = {
  0.0004887215113191, 0.001090325452463, 0.001868048645171, 0.002767681633457,
   0.003700991957847, 0.004550343714773, 0.005178251339318,  0.00544132980032,
   0.005207421765024, 0.004374082921984, 0.002886180760112,0.0007501865617438,
  -0.001957134052004,-0.005087484534415,-0.008428373672268, -0.01171918436397,
   -0.01467505129133,  -0.0170165433445, -0.01850220677898, -0.01896035777573,
   -0.01831622698612, -0.01661072348361, -0.01400772032018,    -0.01078783076,
  -0.007328049190408,-0.004068231167366,-0.001467006328245,4.883548796214e-05,
  0.0001363544908127,-0.001415842962624,-0.004649900324445,-0.009415994683604,
   -0.01536830999972, -0.02198160565997, -0.02858816443134, -0.03443267775557,
    -0.0387405409476, -0.04079332680135, -0.04000409147063, -0.03598479154014,
   -0.02859852890845,  -0.0179905750557, -0.00459405347151,  0.01089140693184,
    0.02754704082736,   0.0443046604014,  0.06003267574315,  0.07363059172832,
    0.08412313172277,  0.09074501221207,   0.0930081860415,  0.09074501221207,
    0.08412313172277,  0.07363059172832,  0.06003267574315,   0.0443046604014,
    0.02754704082736,  0.01089140693184, -0.00459405347151,  -0.0179905750557,
   -0.02859852890845, -0.03598479154014, -0.04000409147063, -0.04079332680135,
    -0.0387405409476, -0.03443267775557, -0.02858816443134, -0.02198160565997,
   -0.01536830999972,-0.009415994683604,-0.004649900324445,-0.001415842962624,
  0.0001363544908127,4.883548796214e-05,-0.001467006328245,-0.004068231167366,
  -0.007328049190408,    -0.01078783076, -0.01400772032018, -0.01661072348361,
   -0.01831622698612, -0.01896035777573, -0.01850220677898,  -0.0170165433445,
   -0.01467505129133, -0.01171918436397,-0.008428373672268,-0.005087484534415,
  -0.001957134052004,0.0007501865617438, 0.002886180760112, 0.004374082921984,
   0.005207421765024,  0.00544132980032, 0.005178251339318, 0.004550343714773,
   0.003700991957847, 0.002767681633457, 0.001868048645171, 0.001090325452463,
  0.0004887215113191
};



#define NUM_STAGE_IIR 2
#define NUM_ORDER_IIR (NUM_STAGE_IIR * 2)
#define NUM_STD_COEFFS 5
#define NUM_BLOCKS (BLOCK_SIZE_U16 / BLOCK_SIZE_FLOAT) //(TEST_LENGTH_SAMPLES / BLOCK_SIZE)

//Test of simple IIR band pass, sections:
//b0 b1 b2 a0 -a1 -a2 SOS matrix, a0 in normalized form is 1 and CMSIS assumes it as 1 so only 5 coefficients per section are necessary

// Define the SOS matrix array
// Section : b0, b1, b2, a1, a2
static const float iirState[NUM_ORDER_IIR];

static const float iirCoeffs[NUM_STAGE_IIR * NUM_STD_COEFFS] =
{
	    0.6251f,
	   -0.9709f,
	    0.6251f,
	    1.4337f,
	   -0.7193f,
	    1.0000f,
	   -1.9998f,
	    1.0000f,
	    1.9899f,
	   -0.9902f,
};



#endif /* INC_AUDIO_OUT_FILTERS_H_ */
